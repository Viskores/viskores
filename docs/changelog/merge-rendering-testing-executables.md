Merge rendering testing executables to a shared library

This commit allows rendering testing executables to select the device at runtime.
