##=============================================================================
##
##  Copyright (c) Kitware, Inc.
##  All rights reserved.
##  See LICENSE.txt for details.
##
##  This software is distributed WITHOUT ANY WARRANTY; without even
##  the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
##  PURPOSE.  See the above copyright notice for more information.
##
##=============================================================================

# Required
version: 2

# Set the OS, Python version and other tools you might need
build:
  os: ubuntu-22.04
  apt_packages:
  - cmake
  - ninja
  tools:
    python: '3.10'
  jobs:
    post_install:
    - cmake -GNinja -B build -S . -DVTKm_ENABLE_DOCUMENTATION=ON -DVTKm_ENABLE_USERS_GUIDE=ON
    - cmake --build build --target docs/doxygen

sphinx:
  configuration: ./build/docs/users-guide/VTKmUsersGuideHTML.cache/conf.py

python:
  install:
  - requirements: docs/requirements.txt

formats:
- pdf
- epub
